{
  "address": "0x919e73912510Ee303A52C6A7ddAEbB4ffE2376a1",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newGrgVault",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "newStakingProxy",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "SelfCustodyTransfer",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "grgVault",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "targetPool",
          "type": "address"
        }
      ],
      "name": "poolGrgShortfall",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address payable",
          "name": "selfCustodyAccount",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "transferToSelfCustody",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "shortfall",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0xceae94af2b93fdc1416d348e23d405ff7fe47b17589f09cc00efe976f2f7b8fc",
  "receipt": {
    "to": "0x914d7Fec6aaC8cd542e72Bca78B30650d45643d7",
    "from": "0x080f08076e8EAdC66006C3CbFEd28a34918A1fA6",
    "contractAddress": null,
    "transactionIndex": 62,
    "gasUsed": "502144",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x00fff312d68ec87acf1b912189828a75fe5bdfab736e4ab08507e7fb817f7c8f",
    "transactionHash": "0xceae94af2b93fdc1416d348e23d405ff7fe47b17589f09cc00efe976f2f7b8fc",
    "logs": [],
    "blockNumber": 7836975,
    "cumulativeGasUsed": "17746529",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x58b5FBe3e8F86a3f22BB9e47129a9FDE4702c221",
    "0x6C4594aa0CBcb8315E88EFdb11675c09A7a5f444"
  ],
  "solcInputHash": "656e34d5c2c173c2d18ee1cf3ed6b924",
  "metadata": "{\"compiler\":{\"version\":\"0.8.17+commit.8df45f5f\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newGrgVault\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"newStakingProxy\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"SelfCustodyTransfer\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"grgVault\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"targetPool\",\"type\":\"address\"}],\"name\":\"poolGrgShortfall\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"selfCustodyAccount\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transferToSelfCustody\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"shortfall\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"Gabriele Rigo - <gab@rigoblock.com>\",\"kind\":\"dev\",\"methods\":{\"poolGrgShortfall(address)\":{\"params\":{\"poolAddress\":\"Address of the pool to assert shortfall for.\"},\"returns\":{\"_0\":\"Number of GRG pool operator shortfall.\"}},\"transferToSelfCustody(address,address,uint256)\":{\"params\":{\"amount\":\"Number of tokens.\",\"selfCustodyAccount\":\"Address of the target account.\",\"token\":\"Address of the target token.\"},\"returns\":{\"shortfall\":\"Number of GRG pool operator shortfall.\"}}},\"stateVariables\":{\"grgVault\":{\"return\":\"Address of the GRG vault contract.\",\"returns\":{\"_0\":\"Address of the GRG vault contract.\"}}},\"title\":\"Self Custody adapter - A helper contract for self custody.\",\"version\":1},\"userdoc\":{\"events\":{\"SelfCustodyTransfer(address,address,address,uint256)\":{\"notice\":\"Emitted when tokens are transferred to self custody.\"}},\"kind\":\"user\",\"methods\":{\"grgVault()\":{\"notice\":\"Returns the address of the GRG vault contract.\"},\"poolGrgShortfall(address)\":{\"notice\":\"external check if minimum pool GRG amount requirement satisfied.\"},\"transferToSelfCustody(address,address,uint256)\":{\"notice\":\"transfers ETH or tokens to self custody.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/protocol/extensions/adapters/ASelfCustody.sol\":\"ASelfCustody\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/protocol/extensions/adapters/ASelfCustody.sol\":{\"content\":\"// SPDX-License-Identifier: Apache 2.0\\n/*\\n\\n Copyright 2019-2022 RigoBlock, Rigo Intl.\\n\\n Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n you may not use this file except in compliance with the License.\\n You may obtain a copy of the License at\\n\\n     http://www.apache.org/licenses/LICENSE-2.0\\n\\n Unless required by applicable law or agreed to in writing, software\\n distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n See the License for the specific language governing permissions and\\n limitations under the License.\\n\\n*/\\n\\n// solhint-disable-next-line\\npragma solidity =0.8.17;\\n\\nimport \\\"../../../staking/interfaces/IStaking.sol\\\";\\nimport \\\"../../../staking/interfaces/IStorage.sol\\\";\\nimport \\\"../../../staking/interfaces/IGrgVault.sol\\\";\\nimport \\\"./interfaces/IASelfCustody.sol\\\";\\n\\n/// @title Self Custody adapter - A helper contract for self custody.\\n/// @author Gabriele Rigo - <gab@rigoblock.com>\\n// solhint-disable-next-line\\ncontract ASelfCustody is IASelfCustody {\\n    /// @inheritdoc IASelfCustody\\n    address public immutable override grgVault;\\n\\n    // minimum 100k GRG to unlock self custody\\n    uint128 private constant _MINIMUM_GRG_STAKE = 1e23;\\n\\n    // bytes4 hash of the transfer selector\\n    bytes4 private constant _TRANSFER_SELECTOR = bytes4(keccak256(bytes(\\\"transfer(address,uint256)\\\")));\\n\\n    address private immutable _stakingProxy;\\n    address private immutable _aSelfCustody;\\n\\n    constructor(address newGrgVault, address newStakingProxy) {\\n        grgVault = newGrgVault;\\n        _stakingProxy = newStakingProxy;\\n        _aSelfCustody = address(this);\\n    }\\n\\n    /// @inheritdoc IASelfCustody\\n    function transferToSelfCustody(\\n        address payable selfCustodyAccount,\\n        address token,\\n        uint256 amount\\n    ) external override returns (uint256 shortfall) {\\n        // we prevent direct calls to this extension\\n        assert(_aSelfCustody != address(this));\\n        require(amount != 0, \\\"ASELFCUSTODY_NULL_AMOUNT_ERROR\\\");\\n        shortfall = poolGrgShortfall(address(this));\\n\\n        if (shortfall == 0) {\\n            if (token == address(0)) {\\n                require(address(this).balance > amount, \\\"ASELFCUSTODY_BALANCE_NOT_ENOUGH_ERROR\\\");\\n                selfCustodyAccount.transfer(amount);\\n            } else {\\n                _safeTransfer(token, selfCustodyAccount, amount);\\n            }\\n            emit SelfCustodyTransfer(address(this), selfCustodyAccount, token, amount);\\n        } else revert(\\\"ASELFCUSTODY_MINIMUM_GRG_ERROR\\\");\\n    }\\n\\n    /// @inheritdoc IASelfCustody\\n    function poolGrgShortfall(address targetPool) public view override returns (uint256) {\\n        address stakingProxy = _getGrgStakingProxy();\\n        bytes32 poolId = IStorage(stakingProxy).poolIdByRbPoolAccount(targetPool);\\n        uint256 poolStake = IStaking(stakingProxy).getTotalStakeDelegatedToPool(poolId).currentEpochBalance;\\n\\n        // we assert the staking implementation has not been compromised by requiring all staked GRG to be delegated to self.\\n        require(poolStake == IGrgVault(grgVault).balanceOf(targetPool), \\\"ASELFCUSTODY_GRG_BALANCE_MISMATCH_ERROR\\\");\\n        uint256 minimumStake = _getMinimumGrgStake();\\n\\n        if (poolStake >= minimumStake) {\\n            return 0;\\n        } else {\\n            unchecked {\\n                return minimumStake - poolStake;\\n            }\\n        }\\n    }\\n\\n    /// @dev executes a safe transfer to any ERC20 token\\n    /// @param token Address of the origin\\n    /// @param to Address of the target\\n    /// @param value Amount to transfer\\n    function _safeTransfer(\\n        address token,\\n        address to,\\n        uint256 value\\n    ) private {\\n        // solhint-disable-next-line avoid-low-level-calls\\n        (bool success, bytes memory data) = token.call(abi.encodeWithSelector(_TRANSFER_SELECTOR, to, value));\\n        require(success && (data.length == 0 || abi.decode(data, (bool))), \\\"ASELFCUSTODY_TRANSFER_FAILED_ERROR\\\");\\n    }\\n\\n    function _getGrgStakingProxy() private view returns (address) {\\n        return _stakingProxy;\\n    }\\n\\n    function _getMinimumGrgStake() private pure returns (uint256) {\\n        return uint256(_MINIMUM_GRG_STAKE);\\n    }\\n}\\n\",\"keccak256\":\"0xa2dafa9d18d149da87bf02207486b2b330cd6e6b6f3dac5a85bdd30da7dd785c\",\"license\":\"Apache 2.0\"},\"contracts/protocol/extensions/adapters/interfaces/IASelfCustody.sol\":{\"content\":\"// SPDX-License-Identifier: Apache 2.0\\n/*\\n\\n Copyright 2022 RigoBlock, Rigo Intl.\\n\\n Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n you may not use this file except in compliance with the License.\\n You may obtain a copy of the License at\\n\\n     http://www.apache.org/licenses/LICENSE-2.0\\n\\n Unless required by applicable law or agreed to in writing, software\\n distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n See the License for the specific language governing permissions and\\n limitations under the License.\\n\\n*/\\n\\n// solhint-disable-next-line\\npragma solidity >=0.8.0 <0.9.0;\\n\\ninterface IASelfCustody {\\n    /// @notice Emitted when tokens are transferred to self custody.\\n    /// @dev Requires minimum GRG active stake. Minimum set by the Rigoblock Dao.\\n    /// @param from Address of the pool.\\n    /// @param to Address of the wallet tokens are sent to.\\n    /// @param token Address of the sent token.\\n    /// @param amount Number of units of sent token.\\n    event SelfCustodyTransfer(address indexed from, address indexed to, address indexed token, uint256 amount);\\n\\n    /// @notice Returns the address of the GRG vault contract.\\n    /// @return Address of the GRG vault contract.\\n    function grgVault() external view returns (address);\\n\\n    /// @notice transfers ETH or tokens to self custody.\\n    /// @param selfCustodyAccount Address of the target account.\\n    /// @param token Address of the target token.\\n    /// @param amount Number of tokens.\\n    /// @return shortfall Number of GRG pool operator shortfall.\\n    function transferToSelfCustody(\\n        address payable selfCustodyAccount,\\n        address token,\\n        uint256 amount\\n    ) external returns (uint256 shortfall);\\n\\n    /// @notice external check if minimum pool GRG amount requirement satisfied.\\n    /// @param poolAddress Address of the pool to assert shortfall for.\\n    /// @return Number of GRG pool operator shortfall.\\n    function poolGrgShortfall(address poolAddress) external view returns (uint256);\\n}\\n\",\"keccak256\":\"0xdc83af8986687bd8fdcc918476170cb57b3d59eaf9d82ad13f65f57c2a452e89\",\"license\":\"Apache 2.0\"},\"contracts/protocol/interfaces/IPoolRegistry.sol\":{\"content\":\"// SPDX-License-Identifier: Apache 2.0\\n/*\\n\\n Copyright 2017-2022 RigoBlock, Rigo Investment Sagl.\\n\\n Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n you may not use this file except in compliance with the License.\\n You may obtain a copy of the License at\\n\\n     http://www.apache.org/licenses/LICENSE-2.0\\n\\n Unless required by applicable law or agreed to in writing, software\\n distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n See the License for the specific language governing permissions and\\n limitations under the License.\\n\\n*/\\n\\npragma solidity >=0.7.0 <0.9.0;\\n\\n/// @title Pool Registry Interface - Allows external interaction with pool registry.\\n/// @author Gabriele Rigo - <gab@rigoblock.com>\\n// solhint-disable-next-line\\ninterface IPoolRegistry {\\n    /// @notice Mapping of pool meta by pool key.\\n    /// @param meta Mapping of bytes32 key to bytes32 meta.\\n    struct PoolMeta {\\n        mapping(bytes32 => bytes32) meta;\\n    }\\n\\n    /// @notice Emitted when Rigoblock Dao updates authority address.\\n    /// @param authority Address of the new authority contract.\\n    event AuthorityChanged(address indexed authority);\\n\\n    /// @notice Emitted when pool owner updates meta data for its pool.\\n    /// @param pool Address of the pool.\\n    /// @param key Bytes32 key for indexing.\\n    /// @param value Bytes32 of the value associated with the key.\\n    event MetaChanged(address indexed pool, bytes32 indexed key, bytes32 value);\\n\\n    /// @notice Emitted when a new pool is registered in registry.\\n    /// @param group Address of the pool factory.\\n    /// @param pool Address of the registered pool.\\n    /// @param name String name of the pool.\\n    /// @param symbol String name of the pool.\\n    /// @param id Bytes32 id of the pool.\\n    event Registered(\\n        address indexed group,\\n        address pool,\\n        bytes32 indexed name, // client can prune sybil pools\\n        bytes32 indexed symbol,\\n        bytes32 id\\n    );\\n\\n    /// @notice Emitted when rigoblock Dao address is updated.\\n    /// @param rigoblockDao New Dao address.\\n    event RigoblockDaoChanged(address indexed rigoblockDao);\\n\\n    /// @notice Returns the address of the Rigoblock authority contract.\\n    /// @return Address of the authority contract.\\n    function authority() external view returns (address);\\n\\n    /// @notice Returns the address of the Rigoblock Dao.\\n    /// @return Address of the Rigoblock Dao.\\n    function rigoblockDao() external view returns (address);\\n\\n    /// @notice Allows a factory which is an authority to register a pool.\\n    /// @param pool Address of the pool.\\n    /// @param name String name of the pool (31 characters/bytes or less).\\n    /// @param symbol String symbol of the pool (3 to 5 characters/bytes).\\n    /// @param poolId Bytes32 of the pool id.\\n    function register(\\n        address pool,\\n        string calldata name,\\n        string calldata symbol,\\n        bytes32 poolId\\n    ) external;\\n\\n    /// @notice Allows Rigoblock governance to update authority.\\n    /// @param authority Address of the authority contract.\\n    function setAuthority(address authority) external;\\n\\n    /// @notice Allows pool owner to set metadata for a pool.\\n    /// @param pool Address of the pool.\\n    /// @param key Bytes32 of the key.\\n    /// @param value Bytes32 of the value.\\n    function setMeta(\\n        address pool,\\n        bytes32 key,\\n        bytes32 value\\n    ) external;\\n\\n    /// @notice Allows Rigoblock Dao to update its address.\\n    /// @dev Creates internal record.\\n    /// @param newRigoblockDao Address of the Rigoblock Dao.\\n    function setRigoblockDao(address newRigoblockDao) external;\\n\\n    /// @notice Returns metadata for a given pool.\\n    /// @param pool Address of the pool.\\n    /// @param key Bytes32 key.\\n    /// @return poolMeta Meta by key.\\n    function getMeta(address pool, bytes32 key) external view returns (bytes32 poolMeta);\\n\\n    /// @notice Returns the id of a pool from its address.\\n    /// @param pool Address of the pool.\\n    /// @return poolId bytes32 id of the pool.\\n    function getPoolIdFromAddress(address pool) external view returns (bytes32 poolId);\\n}\\n\",\"keccak256\":\"0x0da90f76eb6898effb3ed0409b3cd0c4153762a1ceff2731c536a8bfa19f2290\",\"license\":\"Apache 2.0\"},\"contracts/rigoToken/interfaces/IRigoToken.sol\":{\"content\":\"// SPDX-License-Identifier: Apache 2.0\\n/*\\n\\n Copyright 2017-2018 RigoBlock, Rigo Investment Sagl.\\n\\n Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n you may not use this file except in compliance with the License.\\n You may obtain a copy of the License at\\n\\n     http://www.apache.org/licenses/LICENSE-2.0\\n\\n Unless required by applicable law or agreed to in writing, software\\n distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n See the License for the specific language governing permissions and\\n limitations under the License.\\n\\n*/\\n\\npragma solidity >=0.8.0 <0.9.0;\\n\\nimport \\\"../../tokens/ERC20/IERC20.sol\\\";\\n\\n/// @title Rigo Token Interface - Allows interaction with the Rigo token.\\n/// @author Gabriele Rigo - <gab@rigoblock.com>\\n// solhint-disable-next-line\\ninterface IRigoToken is IERC20 {\\n    /// @notice Emitted when new tokens have been minted.\\n    /// @param recipient Address receiving the new tokens.\\n    /// @param amount Number of minted units.\\n    event TokenMinted(address indexed recipient, uint256 amount);\\n\\n    /// @notice Returns the address of the minter.\\n    /// @return Address of the minter.\\n    function minter() external view returns (address);\\n\\n    /// @notice Returns the address of the Rigoblock Dao.\\n    /// @return Address of the Dao.\\n    function rigoblock() external view returns (address);\\n\\n    /// @notice Allows minter to create new tokens.\\n    /// @dev Mint method is reserved for minter module.\\n    /// @param recipient Address receiving the new tokens.\\n    /// @param amount Number of minted tokens.\\n    function mintToken(address recipient, uint256 amount) external;\\n\\n    /// @notice Allows Rigoblock Dao to update minter.\\n    /// @param newAddress Address of the new minter.\\n    function changeMintingAddress(address newAddress) external;\\n\\n    /// @notice Allows Rigoblock Dao to update its address.\\n    /// @param newAddress Address of the new Dao.\\n    function changeRigoblockAddress(address newAddress) external;\\n}\\n\",\"keccak256\":\"0x042f3630d00829ee9d1e31747d8986eb8ac3021b9ea376b9c24b9200fe600181\",\"license\":\"Apache 2.0\"},\"contracts/staking/interfaces/IGrgVault.sol\":{\"content\":\"// SPDX-License-Identifier: Apache 2.0\\n/*\\n\\n  Original work Copyright 2019 ZeroEx Intl.\\n  Modified work Copyright 2020-2022 Rigo Intl.\\n\\n  Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n  you may not use this file except in compliance with the License.\\n  You may obtain a copy of the License at\\n\\n    http://www.apache.org/licenses/LICENSE-2.0\\n\\n  Unless required by applicable law or agreed to in writing, software\\n  distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n  See the License for the specific language governing permissions and\\n  limitations under the License.\\n\\n*/\\n\\npragma solidity >=0.8.0 <0.9.0;\\n\\ninterface IGrgVault {\\n    /// @notice Emmitted whenever a StakingProxy is set in a vault.\\n    /// @param stakingProxyAddress Address of the staking proxy contract.\\n    event StakingProxySet(address stakingProxyAddress);\\n\\n    /// @notice Emitted when the Staking contract is put into Catastrophic Failure Mode\\n    /// @param sender Address of sender (`msg.sender`)\\n    event InCatastrophicFailureMode(address sender);\\n\\n    /// @notice Emitted when Grg Tokens are deposited into the vault.\\n    /// @param staker Address of the Grg staker.\\n    /// @param amount of Grg Tokens deposited.\\n    event Deposit(address indexed staker, uint256 amount);\\n\\n    /// @notice Emitted when Grg Tokens are withdrawn from the vault.\\n    /// @param staker Address of the Grg staker.\\n    /// @param amount of Grg Tokens withdrawn.\\n    event Withdraw(address indexed staker, uint256 amount);\\n\\n    /// @notice Emitted whenever the Grg AssetProxy is set.\\n    /// @param grgProxyAddress Address of the Grg transfer proxy.\\n    event GrgProxySet(address grgProxyAddress);\\n\\n    /// @notice Sets the address of the StakingProxy contract.\\n    /// @dev Note that only the contract staker can call this function.\\n    /// @param stakingProxyAddress Address of Staking proxy contract.\\n    function setStakingProxy(address stakingProxyAddress) external;\\n\\n    /// @notice Vault enters into Catastrophic Failure Mode.\\n    /// @dev *** WARNING - ONCE IN CATOSTROPHIC FAILURE MODE, YOU CAN NEVER GO BACK! ***\\n    /// @dev Note that only the contract staker can call this function.\\n    function enterCatastrophicFailure() external;\\n\\n    /// @notice Sets the Grg proxy.\\n    /// @dev Note that only the contract staker can call this.\\n    /// @dev Note that this can only be called when *not* in Catastrophic Failure mode.\\n    /// @param grgProxyAddress Address of the RigoBlock Grg Proxy.\\n    function setGrgProxy(address grgProxyAddress) external;\\n\\n    /// @notice Deposit an `amount` of Grg Tokens from `staker` into the vault.\\n    /// @dev Note that only the Staking contract can call this.\\n    /// @dev Note that this can only be called when *not* in Catastrophic Failure mode.\\n    /// @param staker Address of the Grg staker.\\n    /// @param amount of Grg Tokens to deposit.\\n    function depositFrom(address staker, uint256 amount) external;\\n\\n    /// @notice Withdraw an `amount` of Grg Tokens to `staker` from the vault.\\n    /// @dev Note that only the Staking contract can call this.\\n    /// @dev Note that this can only be called when *not* in Catastrophic Failure mode.\\n    /// @param staker Address of the Grg staker.\\n    /// @param amount of Grg Tokens to withdraw.\\n    function withdrawFrom(address staker, uint256 amount) external;\\n\\n    /// @notice Withdraw ALL Grg Tokens to `staker` from the vault.\\n    /// @dev Note that this can only be called when *in* Catastrophic Failure mode.\\n    /// @param staker Address of the Grg staker.\\n    function withdrawAllFrom(address staker) external returns (uint256);\\n\\n    /// @notice Returns the balance in Grg Tokens of the `staker`\\n    /// @param staker Address of the Grg staker.\\n    /// @return Balance in Grg.\\n    function balanceOf(address staker) external view returns (uint256);\\n\\n    /// @notice Returns the entire balance of Grg tokens in the vault.\\n    /// @return Balance in Grg.\\n    function balanceOfGrgVault() external view returns (uint256);\\n}\\n\",\"keccak256\":\"0xfa990f88c4677e90eab516a194aa47241b74ac0ba374726a4cfe621a385e3f9a\",\"license\":\"Apache 2.0\"},\"contracts/staking/interfaces/IStaking.sol\":{\"content\":\"// SPDX-License-Identifier: Apache 2.0\\n/*\\n\\n  Original work Copyright 2019 ZeroEx Intl.\\n  Modified work Copyright 2020-2022 Rigo Intl.\\n\\n  Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n  you may not use this file except in compliance with the License.\\n  You may obtain a copy of the License at\\n\\n    http://www.apache.org/licenses/LICENSE-2.0\\n\\n  Unless required by applicable law or agreed to in writing, software\\n  distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n  See the License for the specific language governing permissions and\\n  limitations under the License.\\n\\n*/\\n\\npragma solidity >=0.8.0 <0.9.0;\\n\\nimport {IPoolRegistry as PoolRegistry} from \\\"../../protocol/interfaces/IPoolRegistry.sol\\\";\\nimport {IRigoToken as RigoToken} from \\\"../../rigoToken/interfaces/IRigoToken.sol\\\";\\nimport \\\"./IStructs.sol\\\";\\nimport {IGrgVault as GrgVault} from \\\"./IGrgVault.sol\\\";\\n\\ninterface IStaking {\\n    /// @notice Adds a new proof_of_performance address.\\n    /// @param addr Address of proof_of_performance contract to add.\\n    function addPopAddress(address addr) external;\\n\\n    /// @notice Create a new staking pool. The sender will be the staking pal of this pool.\\n    /// @dev Note that a staking pal must be payable.\\n    /// @dev When governance updates registry address, pools must be migrated to new registry, or this contract must query from both.\\n    /// @param rigoblockPoolAddress Adds rigoblock pool to the created staking pool for convenience if non-null.\\n    /// @return poolId The unique pool id generated for this pool.\\n    function createStakingPool(address rigoblockPoolAddress) external returns (bytes32 poolId);\\n\\n    /// @notice Allows the operator to update the staking pal address.\\n    /// @param poolId Unique id of pool.\\n    /// @param newStakingPalAddress Address of the new staking pal.\\n    function setStakingPalAddress(bytes32 poolId, address newStakingPalAddress) external;\\n\\n    /// @notice Decreases the operator share for the given pool (i.e. increases pool rewards for members).\\n    /// @param poolId Unique Id of pool.\\n    /// @param newOperatorShare The newly decreased percentage of any rewards owned by the operator.\\n    function decreaseStakingPoolOperatorShare(bytes32 poolId, uint32 newOperatorShare) external;\\n\\n    /// @notice Begins a new epoch, preparing the prior one for finalization.\\n    /// @dev Throws if not enough time has passed between epochs or if the\\n    /// @dev previous epoch was not fully finalized.\\n    /// @return numPoolsToFinalize The number of unfinalized pools.\\n    function endEpoch() external returns (uint256 numPoolsToFinalize);\\n\\n    /// @notice Instantly finalizes a single pool that earned rewards in the previous epoch,\\n    /// @dev crediting it rewards for members and withdrawing operator's rewards as GRG.\\n    /// @dev This can be called by internal functions that need to finalize a pool immediately.\\n    /// @dev Does nothing if the pool is already finalized or did not earn rewards in the previous epoch.\\n    /// @param poolId The pool ID to finalize.\\n    function finalizePool(bytes32 poolId) external;\\n\\n    /// @notice Initialize storage owned by this contract.\\n    /// @dev This function should not be called directly.\\n    /// @dev The StakingProxy contract will call it in `attachStakingContract()`.\\n    function init() external;\\n\\n    /// @notice Moves stake between statuses: 'undelegated' or 'delegated'.\\n    /// @dev Delegated stake can also be moved between pools.\\n    /// @dev This change comes into effect next epoch.\\n    /// @param from Status to move stake out of.\\n    /// @param to Status to move stake into.\\n    /// @param amount Amount of stake to move.\\n    function moveStake(\\n        IStructs.StakeInfo calldata from,\\n        IStructs.StakeInfo calldata to,\\n        uint256 amount\\n    ) external;\\n\\n    /// @notice Credits the value of a pool's pop reward.\\n    /// @dev Only a known RigoBlock pop can call this method. See (MixinPopManager).\\n    /// @param poolAccount The address of the rigoblock pool account.\\n    /// @param popReward The pop reward.\\n    function creditPopReward(address poolAccount, uint256 popReward) external payable;\\n\\n    /// @notice Removes an existing proof_of_performance address.\\n    /// @param addr Address of proof_of_performance contract to remove.\\n    function removePopAddress(address addr) external;\\n\\n    /// @notice Set all configurable parameters at once.\\n    /// @param _epochDurationInSeconds Minimum seconds between epochs.\\n    /// @param _rewardDelegatedStakeWeight How much delegated stake is weighted vs operator stake, in ppm.\\n    /// @param _minimumPoolStake Minimum amount of stake required in a pool to collect rewards.\\n    /// @param _cobbDouglasAlphaNumerator Numerator for cobb douglas alpha factor.\\n    /// @param _cobbDouglasAlphaDenominator Denominator for cobb douglas alpha factor.\\n    function setParams(\\n        uint256 _epochDurationInSeconds,\\n        uint32 _rewardDelegatedStakeWeight,\\n        uint256 _minimumPoolStake,\\n        uint32 _cobbDouglasAlphaNumerator,\\n        uint32 _cobbDouglasAlphaDenominator\\n    ) external;\\n\\n    /// @notice Stake GRG tokens. Tokens are deposited into the GRG Vault.\\n    /// @dev Unstake to retrieve the GRG. Stake is in the 'Active' status.\\n    /// @param amount of GRG to stake.\\n    function stake(uint256 amount) external;\\n\\n    /// @notice Unstake. Tokens are withdrawn from the GRG Vault and returned to the staker.\\n    /// @dev Stake must be in the 'undelegated' status in both the current and next epoch in order to be unstaked.\\n    /// @param amount of GRG to unstake.\\n    function unstake(uint256 amount) external;\\n\\n    /// @notice Withdraws the caller's GRG rewards that have accumulated until the last epoch.\\n    /// @param poolId Unique id of pool.\\n    function withdrawDelegatorRewards(bytes32 poolId) external;\\n\\n    /// @notice Computes the reward balance in GRG of a specific member of a pool.\\n    /// @param poolId Unique id of pool.\\n    /// @param member The member of the pool.\\n    /// @return reward Balance in GRG.\\n    function computeRewardBalanceOfDelegator(bytes32 poolId, address member) external view returns (uint256 reward);\\n\\n    /// @notice Computes the reward balance in GRG of the operator of a pool.\\n    /// @param poolId Unique id of pool.\\n    /// @return reward Balance in GRG.\\n    function computeRewardBalanceOfOperator(bytes32 poolId) external view returns (uint256 reward);\\n\\n    /// @notice Returns the earliest end time in seconds of this epoch.\\n    /// @dev The next epoch can begin once this time is reached.\\n    /// @dev Epoch period = [startTimeInSeconds..endTimeInSeconds)\\n    /// @return Time in seconds.\\n    function getCurrentEpochEarliestEndTimeInSeconds() external view returns (uint256);\\n\\n    /// @notice Gets global stake for a given status.\\n    /// @param stakeStatus UNDELEGATED or DELEGATED\\n    /// @return balance Global stake for given status.\\n    function getGlobalStakeByStatus(IStructs.StakeStatus stakeStatus)\\n        external\\n        view\\n        returns (IStructs.StoredBalance memory balance);\\n\\n    /// @notice Gets an owner's stake balances by status.\\n    /// @param staker Owner of stake.\\n    /// @param stakeStatus UNDELEGATED or DELEGATED\\n    /// @return balance Owner's stake balances for given status.\\n    function getOwnerStakeByStatus(address staker, IStructs.StakeStatus stakeStatus)\\n        external\\n        view\\n        returns (IStructs.StoredBalance memory balance);\\n\\n    /// @notice Returns the total stake for a given staker.\\n    /// @param staker of stake.\\n    /// @return Total GRG staked by `staker`.\\n    function getTotalStake(address staker) external view returns (uint256);\\n\\n    /// @dev Retrieves all configurable parameter values.\\n    /// @return _epochDurationInSeconds Minimum seconds between epochs.\\n    /// @return _rewardDelegatedStakeWeight How much delegated stake is weighted vs operator stake, in ppm.\\n    /// @return _minimumPoolStake Minimum amount of stake required in a pool to collect rewards.\\n    /// @return _cobbDouglasAlphaNumerator Numerator for cobb douglas alpha factor.\\n    /// @return _cobbDouglasAlphaDenominator Denominator for cobb douglas alpha factor.\\n    function getParams()\\n        external\\n        view\\n        returns (\\n            uint256 _epochDurationInSeconds,\\n            uint32 _rewardDelegatedStakeWeight,\\n            uint256 _minimumPoolStake,\\n            uint32 _cobbDouglasAlphaNumerator,\\n            uint32 _cobbDouglasAlphaDenominator\\n        );\\n\\n    /// @notice Returns stake delegated to pool by staker.\\n    /// @param staker of stake.\\n    /// @param poolId Unique Id of pool.\\n    /// @return balance Stake delegated to pool by staker.\\n    function getStakeDelegatedToPoolByOwner(address staker, bytes32 poolId)\\n        external\\n        view\\n        returns (IStructs.StoredBalance memory balance);\\n\\n    /// @notice Returns a staking pool\\n    /// @param poolId Unique id of pool.\\n    function getStakingPool(bytes32 poolId) external view returns (IStructs.Pool memory);\\n\\n    /// @notice Get stats on a staking pool in this epoch.\\n    /// @param poolId Pool Id to query.\\n    /// @return PoolStats struct for pool id.\\n    function getStakingPoolStatsThisEpoch(bytes32 poolId) external view returns (IStructs.PoolStats memory);\\n\\n    /// @notice Returns the total stake delegated to a specific staking pool, across all members.\\n    /// @param poolId Unique Id of pool.\\n    /// @return balance Total stake delegated to pool.\\n    function getTotalStakeDelegatedToPool(bytes32 poolId) external view returns (IStructs.StoredBalance memory balance);\\n\\n    /// @notice An overridable way to access the deployed GRG contract.\\n    /// @dev Must be view to allow overrides to access state.\\n    /// @return The GRG contract instance.\\n    function getGrgContract() external view returns (RigoToken);\\n\\n    /// @notice An overridable way to access the deployed grgVault.\\n    /// @dev Must be view to allow overrides to access state.\\n    /// @return The GRG vault contract.\\n    function getGrgVault() external view returns (GrgVault);\\n\\n    /// @notice An overridable way to access the deployed rigoblock pool registry.\\n    /// @dev Must be view to allow overrides to access state.\\n    /// @return The pool registry contract.\\n    function getPoolRegistry() external view returns (PoolRegistry);\\n}\\n\",\"keccak256\":\"0x840ebd8deac45a932352e8f997140240919da702aeb79eaca7e8b6914e50a754\",\"license\":\"Apache 2.0\"},\"contracts/staking/interfaces/IStorage.sol\":{\"content\":\"// SPDX-License-Identifier: Apache 2.0\\n/*\\n\\n  Original work Copyright 2019 ZeroEx Intl.\\n  Modified work Copyright 2020-2022 Rigo Intl.\\n\\n  Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n  you may not use this file except in compliance with the License.\\n  You may obtain a copy of the License at\\n\\n    http://www.apache.org/licenses/LICENSE-2.0\\n\\n  Unless required by applicable law or agreed to in writing, software\\n  distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n  See the License for the specific language governing permissions and\\n  limitations under the License.\\n\\n*/\\n\\npragma solidity >=0.8.0 <0.9.0;\\n\\ninterface IStorage {\\n    /// @notice Address of staking contract.\\n    /// @return stakingContract Address of the staking contract.\\n    function stakingContract() external view returns (address);\\n\\n    /// @notice Mapping from RigoBlock pool subaccount to pool Id of rigoblock pool\\n    /// @dev 0 RigoBlock pool subaccount address.\\n    /// @return 0 The pool ID.\\n    function poolIdByRbPoolAccount(address) external view returns (bytes32);\\n\\n    /// @notice mapping from pool ID to reward balance of members\\n    /// @dev 0 Pool ID.\\n    /// @return 0 The total reward balance of members in this pool.\\n    function rewardsByPoolId(bytes32) external view returns (uint256);\\n\\n    /// @notice The current epoch.\\n    /// @return currentEpoch The number of the current epoch.\\n    function currentEpoch() external view returns (uint256);\\n\\n    /// @notice The current epoch start time.\\n    /// @return currentEpochStartTimeInSeconds Timestamp of start time.\\n    function currentEpochStartTimeInSeconds() external view returns (uint256);\\n\\n    /// @notice Registered RigoBlock Proof_of_Performance contracts, capable of paying protocol fees.\\n    /// @dev 0 The address to check.\\n    /// @return 0 Whether the address is a registered proof_of_performance.\\n    function validPops(address popAddress) external view returns (bool);\\n\\n    /// @notice Minimum seconds between epochs.\\n    /// @return epochDurationInSeconds Number of seconds.\\n    function epochDurationInSeconds() external view returns (uint256);\\n\\n    // @notice How much delegated stake is weighted vs operator stake, in ppm.\\n    /// @return rewardDelegatedStakeWeight Number in units of a million.\\n    function rewardDelegatedStakeWeight() external view returns (uint32);\\n\\n    /// @notice Minimum amount of stake required in a pool to collect rewards.\\n    /// @return minimumPoolStake Minimum amount required.\\n    function minimumPoolStake() external view returns (uint256);\\n\\n    /// @notice Numerator for cobb douglas alpha factor.\\n    /// @return cobbDouglasAlphaNumerator Number of the numerator.\\n    function cobbDouglasAlphaNumerator() external view returns (uint32);\\n\\n    /// @notice Denominator for cobb douglas alpha factor.\\n    /// @return cobbDouglasAlphaDenominator Number of the denominator.\\n    function cobbDouglasAlphaDenominator() external view returns (uint32);\\n\\n    /// @notice Stats for each pool that generated fees with sufficient stake to earn rewards.\\n    /// @dev See `_minimumPoolStake` in `MixinParams`.\\n    /// @param key Pool ID.\\n    /// @param epoch Epoch number.\\n    /// @return feesCollected Amount of fees collected in epoch.\\n    /// @return weightedStake Weighted stake per million.\\n    /// @return membersStake Members stake per million.\\n    function poolStatsByEpoch(bytes32 key, uint256 epoch)\\n        external\\n        view\\n        returns (\\n            uint256 feesCollected,\\n            uint256 weightedStake,\\n            uint256 membersStake\\n        );\\n\\n    /// @notice Aggregated stats across all pools that generated fees with sufficient stake to earn rewards.\\n    /// @dev See `_minimumPoolStake` in MixinParams.\\n    /// @param epoch Epoch number.\\n    /// @return rewardsAvailable Rewards (GRG) available to the epoch being finalized (the previous epoch).\\n    /// @return numPoolsToFinalize The number of pools that have yet to be finalized through `finalizePools()`.\\n    /// @return totalFeesCollected The total fees collected for the epoch being finalized.\\n    /// @return totalWeightedStake The total fees collected for the epoch being finalized.\\n    /// @return totalRewardsFinalized Amount of rewards that have been paid during finalization.\\n    function aggregatedStatsByEpoch(uint256 epoch)\\n        external\\n        view\\n        returns (\\n            uint256 rewardsAvailable,\\n            uint256 numPoolsToFinalize,\\n            uint256 totalFeesCollected,\\n            uint256 totalWeightedStake,\\n            uint256 totalRewardsFinalized\\n        );\\n\\n    /// @notice The GRG balance of this contract that is reserved for pool reward payouts.\\n    /// @return grgReservedForPoolRewards Number of tokens reserved for rewards.\\n    function grgReservedForPoolRewards() external view returns (uint256);\\n}\\n\",\"keccak256\":\"0xcfc96be73e8ec344511f0d3d314a93692b72c423854a4feffb569b81ef8c4fb2\",\"license\":\"Apache 2.0\"},\"contracts/staking/interfaces/IStructs.sol\":{\"content\":\"// SPDX-License-Identifier: Apache 2.0\\n/*\\n\\n  Original work Copyright 2019 ZeroEx Intl.\\n  Modified work Copyright 2020-2022 Rigo Intl.\\n\\n  Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n  you may not use this file except in compliance with the License.\\n  You may obtain a copy of the License at\\n\\n    http://www.apache.org/licenses/LICENSE-2.0\\n\\n  Unless required by applicable law or agreed to in writing, software\\n  distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n  See the License for the specific language governing permissions and\\n  limitations under the License.\\n\\n*/\\n\\npragma solidity >=0.8.0 <0.9.0;\\n\\ninterface IStructs {\\n    /// @notice Stats for a pool that earned rewards.\\n    /// @param feesCollected Fees collected in ETH by this pool.\\n    /// @param weightedStake Amount of weighted stake in the pool.\\n    /// @param membersStake Amount of non-operator stake in the pool.\\n    struct PoolStats {\\n        uint256 feesCollected;\\n        uint256 weightedStake;\\n        uint256 membersStake;\\n    }\\n\\n    /// @notice Holds stats aggregated across a set of pools.\\n    /// @dev rewardsAvailable is simply the balanc of the contract at the end of the epoch.\\n    /// @param rewardsAvailable Rewards (GRG) available to the epoch being finalized (the previous epoch).\\n    /// @param numPoolsToFinalize The number of pools that have yet to be finalized through `finalizePools()`.\\n    /// @param totalFeesCollected The total fees collected for the epoch being finalized.\\n    /// @param totalWeightedStake The total fees collected for the epoch being finalized.\\n    /// @param totalRewardsFinalized Amount of rewards that have been paid during finalization.\\n    struct AggregatedStats {\\n        uint256 rewardsAvailable;\\n        uint256 numPoolsToFinalize;\\n        uint256 totalFeesCollected;\\n        uint256 totalWeightedStake;\\n        uint256 totalRewardsFinalized;\\n    }\\n\\n    /// @notice Encapsulates a balance for the current and next epochs.\\n    /// @dev Note that these balances may be stale if the current epoch is greater than `currentEpoch`.\\n    /// @param currentEpoch The current epoch\\n    /// @param currentEpochBalance Balance in the current epoch.\\n    /// @param nextEpochBalance Balance in `currentEpoch+1`.\\n    struct StoredBalance {\\n        uint64 currentEpoch;\\n        uint96 currentEpochBalance;\\n        uint96 nextEpochBalance;\\n    }\\n\\n    /// @notice Statuses that stake can exist in.\\n    /// @dev Any stake can be (re)delegated effective at the next epoch.\\n    /// @dev Undelegated stake can be withdrawn if it is available in both the current and next epoch.\\n    enum StakeStatus {\\n        UNDELEGATED,\\n        DELEGATED\\n    }\\n\\n    /// @notice Info used to describe a status.\\n    /// @param status Status of the stake.\\n    /// @param poolId Unique Id of pool. This is set when status=DELEGATED.\\n    struct StakeInfo {\\n        StakeStatus status;\\n        bytes32 poolId;\\n    }\\n\\n    /// @notice Struct to represent a fraction.\\n    /// @param numerator Numerator of fraction.\\n    /// @param denominator Denominator of fraction.\\n    struct Fraction {\\n        uint256 numerator;\\n        uint256 denominator;\\n    }\\n\\n    /// @notice Holds the metadata for a staking pool.\\n    /// @param operator Operator of the pool.\\n    /// @param stakingPal Staking pal of the pool.\\n    /// @param operatorShare Fraction of the total balance owned by the operator, in ppm.\\n    /// @param stakingPalShare Fraction of the operator reward owned by the staking pal, in ppm.\\n    struct Pool {\\n        address operator;\\n        address stakingPal;\\n        uint32 operatorShare;\\n        uint32 stakingPalShare;\\n    }\\n}\\n\",\"keccak256\":\"0xcb02d4a9a73c002ee925a8a7ef7ea93fd402ab0163668d311caacb6f6b74b24a\",\"license\":\"Apache 2.0\"},\"contracts/tokens/ERC20/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: Apache 2.0\\npragma solidity >=0.5.0;\\n\\ninterface IERC20 {\\n    /// @notice Emitted when a token is transferred.\\n    /// @param from Address transferring the tokens.\\n    /// @param to Address receiving the tokens.\\n    /// @param value Number of token units.\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /// @notice Emitted when a token holder sets and approval.\\n    /// @param owner Address of the account setting the approval.\\n    /// @param spender Address of the allowed account.\\n    /// @param value Number of approved units.\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n\\n    /// @notice Transfers token from holder to another address.\\n    /// @param to Address to send tokens to.\\n    /// @param value Number of token units to send.\\n    /// @return success Bool the transaction was successful.\\n    function transfer(address to, uint256 value) external returns (bool success);\\n\\n    /// @notice Allows spender to transfer tokens from the holder.\\n    /// @param from Address of the token holder.\\n    /// @param to Address to send tokens to.\\n    /// @param value Number of units to transfer.\\n    /// @return success Bool the transaction was successful.\\n    function transferFrom(\\n        address from,\\n        address to,\\n        uint256 value\\n    ) external returns (bool success);\\n\\n    /// @notice Allows a holder to approve a spender.\\n    /// @param spender Address of the token spender.\\n    /// @param value Number of units to be approved.\\n    /// @return success Bool the transaction was successful.\\n    function approve(address spender, uint256 value) external returns (bool success);\\n\\n    /// @notice Returns token balance for an address.\\n    /// @param who Address to query balance for.\\n    /// @return Number of units held.\\n    function balanceOf(address who) external view returns (uint256);\\n\\n    /// @notice Returns token allowance of an address to another address.\\n    /// @param owner Address of token hodler.\\n    /// @param spender Address of the token spender.\\n    /// @return Number of allowed units.\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /// @notice Returns the total supply of the token.\\n    /// @return Number of issued units.\\n    function totalSupply() external view returns (uint256);\\n}\\n\",\"keccak256\":\"0x3ba0ff41a9dbfc83e4b1e8909b38cd833462ac6c82a83347d00cfcce4862b1bb\",\"license\":\"Apache 2.0\"}},\"version\":1}",
  "bytecode": "0x60e060405234801561001057600080fd5b506040516108dd3803806108dd83398101604081905261002f91610066565b6001600160a01b039182166080521660a0523060c052610099565b80516001600160a01b038116811461006157600080fd5b919050565b6000806040838503121561007957600080fd5b6100828361004a565b91506100906020840161004a565b90509250929050565b60805160a05160c0516108106100cd600039600060c3015260006102c2015260008181607101526103f501526108106000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c8063318698a7146100465780634f8554da1461006c5780636d6b09e9146100ab575b600080fd5b610059610054366004610655565b6100be565b6040519081526020015b60405180910390f35b6100937f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610063565b6100596100b9366004610696565b6102bd565b6000307f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316036100f8576100f86106b3565b8160000361014d5760405162461bcd60e51b815260206004820152601e60248201527f4153454c46435553544f44595f4e554c4c5f414d4f554e545f4552524f52000060448201526064015b60405180910390fd5b610156306102bd565b90508060000361026e576001600160a01b038316610207578147116101cb5760405162461bcd60e51b815260206004820152602560248201527f4153454c46435553544f44595f42414c414e43455f4e4f545f454e4f5547485f60448201526422a92927a960d91b6064820152608401610144565b6040516001600160a01b0385169083156108fc029084906000818181858888f19350505050158015610201573d6000803e3d6000fd5b50610212565b6102128385846104e7565b826001600160a01b0316846001600160a01b0316306001600160a01b03167f88ae8ade7cac5f1fe6c316af2f87a2546b48305ead5fb83994e495375ffc8d4c8560405161026191815260200190565b60405180910390a46102b6565b60405162461bcd60e51b815260206004820152601e60248201527f4153454c46435553544f44595f4d494e494d554d5f4752475f4552524f5200006044820152606401610144565b9392505050565b6000807f0000000000000000000000000000000000000000000000000000000000000000604051637fa140c760e01b81526001600160a01b038581166004830152919250600091831690637fa140c790602401602060405180830381865afa15801561032d573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061035191906106c9565b604051631f256b9960e11b8152600481018290529091506000906001600160a01b03841690633e4ad73290602401606060405180830381865afa15801561039c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103c09190610703565b602001516040516370a0823160e01b81526001600160a01b0387811660048301526bffffffffffffffffffffffff90921692507f0000000000000000000000000000000000000000000000000000000000000000909116906370a0823190602401602060405180830381865afa15801561043e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061046291906106c9565b81146104c05760405162461bcd60e51b815260206004820152602760248201527f4153454c46435553544f44595f4752475f42414c414e43455f4d49534d415443604482015266242fa2a92927a960c91b6064820152608401610144565b69152d02c7e14af68000008082106104de5750600095945050505050565b03949350505050565b604080518082018252601981527f7472616e7366657228616464726573732c75696e74323536290000000000000060209182015281516001600160a01b0385811660248301526044808301869052845180840390910181526064909201845291810180516001600160e01b031663a9059cbb60e01b179052915160009283928716916105739190610789565b6000604051808303816000865af19150503d80600081146105b0576040519150601f19603f3d011682016040523d82523d6000602084013e6105b5565b606091505b50915091508180156105df5750805115806105df5750808060200190518101906105df91906107b8565b6106365760405162461bcd60e51b815260206004820152602260248201527f4153454c46435553544f44595f5452414e534645525f4641494c45445f45525260448201526127a960f11b6064820152608401610144565b5050505050565b6001600160a01b038116811461065257600080fd5b50565b60008060006060848603121561066a57600080fd5b83356106758161063d565b925060208401356106858161063d565b929592945050506040919091013590565b6000602082840312156106a857600080fd5b81356102b68161063d565b634e487b7160e01b600052600160045260246000fd5b6000602082840312156106db57600080fd5b5051919050565b80516bffffffffffffffffffffffff811681146106fe57600080fd5b919050565b60006060828403121561071557600080fd5b6040516060810167ffffffffffffffff828210818311171561074757634e487b7160e01b600052604160045260246000fd5b8160405284519150808216821461075d57600080fd5b50815261076c602084016106e2565b602082015261077d604084016106e2565b60408201529392505050565b6000825160005b818110156107aa5760208186018101518583015201610790565b506000920191825250919050565b6000602082840312156107ca57600080fd5b815180151581146102b657600080fdfea264697066735822122031a75bf1ba32ebca39c2e64c0ee6656dd1bff5c85160e208cc5fe7eb533fe3a064736f6c63430008110033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100415760003560e01c8063318698a7146100465780634f8554da1461006c5780636d6b09e9146100ab575b600080fd5b610059610054366004610655565b6100be565b6040519081526020015b60405180910390f35b6100937f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610063565b6100596100b9366004610696565b6102bd565b6000307f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316036100f8576100f86106b3565b8160000361014d5760405162461bcd60e51b815260206004820152601e60248201527f4153454c46435553544f44595f4e554c4c5f414d4f554e545f4552524f52000060448201526064015b60405180910390fd5b610156306102bd565b90508060000361026e576001600160a01b038316610207578147116101cb5760405162461bcd60e51b815260206004820152602560248201527f4153454c46435553544f44595f42414c414e43455f4e4f545f454e4f5547485f60448201526422a92927a960d91b6064820152608401610144565b6040516001600160a01b0385169083156108fc029084906000818181858888f19350505050158015610201573d6000803e3d6000fd5b50610212565b6102128385846104e7565b826001600160a01b0316846001600160a01b0316306001600160a01b03167f88ae8ade7cac5f1fe6c316af2f87a2546b48305ead5fb83994e495375ffc8d4c8560405161026191815260200190565b60405180910390a46102b6565b60405162461bcd60e51b815260206004820152601e60248201527f4153454c46435553544f44595f4d494e494d554d5f4752475f4552524f5200006044820152606401610144565b9392505050565b6000807f0000000000000000000000000000000000000000000000000000000000000000604051637fa140c760e01b81526001600160a01b038581166004830152919250600091831690637fa140c790602401602060405180830381865afa15801561032d573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061035191906106c9565b604051631f256b9960e11b8152600481018290529091506000906001600160a01b03841690633e4ad73290602401606060405180830381865afa15801561039c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103c09190610703565b602001516040516370a0823160e01b81526001600160a01b0387811660048301526bffffffffffffffffffffffff90921692507f0000000000000000000000000000000000000000000000000000000000000000909116906370a0823190602401602060405180830381865afa15801561043e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061046291906106c9565b81146104c05760405162461bcd60e51b815260206004820152602760248201527f4153454c46435553544f44595f4752475f42414c414e43455f4d49534d415443604482015266242fa2a92927a960c91b6064820152608401610144565b69152d02c7e14af68000008082106104de5750600095945050505050565b03949350505050565b604080518082018252601981527f7472616e7366657228616464726573732c75696e74323536290000000000000060209182015281516001600160a01b0385811660248301526044808301869052845180840390910181526064909201845291810180516001600160e01b031663a9059cbb60e01b179052915160009283928716916105739190610789565b6000604051808303816000865af19150503d80600081146105b0576040519150601f19603f3d011682016040523d82523d6000602084013e6105b5565b606091505b50915091508180156105df5750805115806105df5750808060200190518101906105df91906107b8565b6106365760405162461bcd60e51b815260206004820152602260248201527f4153454c46435553544f44595f5452414e534645525f4641494c45445f45525260448201526127a960f11b6064820152608401610144565b5050505050565b6001600160a01b038116811461065257600080fd5b50565b60008060006060848603121561066a57600080fd5b83356106758161063d565b925060208401356106858161063d565b929592945050506040919091013590565b6000602082840312156106a857600080fd5b81356102b68161063d565b634e487b7160e01b600052600160045260246000fd5b6000602082840312156106db57600080fd5b5051919050565b80516bffffffffffffffffffffffff811681146106fe57600080fd5b919050565b60006060828403121561071557600080fd5b6040516060810167ffffffffffffffff828210818311171561074757634e487b7160e01b600052604160045260246000fd5b8160405284519150808216821461075d57600080fd5b50815261076c602084016106e2565b602082015261077d604084016106e2565b60408201529392505050565b6000825160005b818110156107aa5760208186018101518583015201610790565b506000920191825250919050565b6000602082840312156107ca57600080fd5b815180151581146102b657600080fdfea264697066735822122031a75bf1ba32ebca39c2e64c0ee6656dd1bff5c85160e208cc5fe7eb533fe3a064736f6c63430008110033",
  "devdoc": {
    "author": "Gabriele Rigo - <gab@rigoblock.com>",
    "kind": "dev",
    "methods": {
      "poolGrgShortfall(address)": {
        "params": {
          "poolAddress": "Address of the pool to assert shortfall for."
        },
        "returns": {
          "_0": "Number of GRG pool operator shortfall."
        }
      },
      "transferToSelfCustody(address,address,uint256)": {
        "params": {
          "amount": "Number of tokens.",
          "selfCustodyAccount": "Address of the target account.",
          "token": "Address of the target token."
        },
        "returns": {
          "shortfall": "Number of GRG pool operator shortfall."
        }
      }
    },
    "stateVariables": {
      "grgVault": {
        "return": "Address of the GRG vault contract.",
        "returns": {
          "_0": "Address of the GRG vault contract."
        }
      }
    },
    "title": "Self Custody adapter - A helper contract for self custody.",
    "version": 1
  },
  "userdoc": {
    "events": {
      "SelfCustodyTransfer(address,address,address,uint256)": {
        "notice": "Emitted when tokens are transferred to self custody."
      }
    },
    "kind": "user",
    "methods": {
      "grgVault()": {
        "notice": "Returns the address of the GRG vault contract."
      },
      "poolGrgShortfall(address)": {
        "notice": "external check if minimum pool GRG amount requirement satisfied."
      },
      "transferToSelfCustody(address,address,uint256)": {
        "notice": "transfers ETH or tokens to self custody."
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [],
    "types": null
  }
}